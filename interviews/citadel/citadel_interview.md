## 1)2019(4-6月) **码农类General** **硕士** **全职**@**Citadel** - 猎头 - **Onsite**

第一轮，另一个组的经理，做了一道**print BST by level**, 然后问了很多很杂的问题，涉及到**多线程**，**CPU缓存，****线程之间通讯**，**buffer设计等等。

第二轮，吃饭，国人小弟，已经在那边呆了2年多，介绍了很多组内的信息。

第三轮，另一个组的Engineer，本来给了**两道题:** 1) 一个**是buy/sell stock**, 2)一个是**fill matrix spiral order,** 我先开始做第二题，后来写着写着就绕进去了，最后也没写出正确答案。。。

第四轮，**System Design, 设计Twitter**, 基本上是我在讲，因为之前设计过类似系统，所以感觉很顺。

第五轮，**HR**，基本上就是问我**为什么选择他们**，然后一些例行问题。

第六轮，hm, 主要是**关注Kafka**，如何在**trading order系统有效使用Kafka**。 还有就是一些经验相关的问题



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=519685&highlight=citadel





## 2)2019-03 **Quantitative Strategies 电面面经**

第一个问题是cnn有关的，问**cnn处理图像问题的时候为什么比单纯的fully connected layer**要好。


第二个问题是**如何调整你的network让它fits the model better**，楼主噼里啪啦讲了一大堆。然后面试官说你说的对，但是我**其实是想让你回答cross validation**= =

然后面试官问我对**decision tree**啊**random forest**啊熟不熟，我说没学过，



于是就说那来聊一下统计。听到是统计方面的我就虚了，毕竟从没上过一节统计课，不过也不好意思让面试官老换问题。于是自我安慰虽然不会统计，但是我数学还是可以的呀。



最后一个问题一开始念题目的时候，我就没听懂。面试官倒是很nice，给我**解释R square**的定义，还噼里啪啦加了一堆条件，没大听清他说了啥。大概是**问两个feature X1, X2**，**第一个的R Square是a%, 第二个是b%, 问两个feature一起做regression的时候R square的范围。**
感觉应该不难。我只答了最小值，最大值没给出来。试着推了个公式，不太确定对不对，反正念给他听了。



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=495769&highlight=citadel



## 3)2018-08  **Citadel Quant Trader**



一开始介绍自己，我说我做过一个machine learning的project，blabla说了一堆，因为这个我自己还是挺自豪的，但是貌似面试官并不感冒，据我推测他貌似不懂ML，所以就问我takeaway是啥。。之后感觉自己心态不好，可能也是紧张，他考了我一个Option的题，问有一个时光机回到20年前，你怎么去make arbitrage opportunitites，说了两个，第三个的时候卡了很久，面试官就不耐烦了，直接do you have any questions然后就杳无音讯



comment 1: 

好奇这个问题为什么是option的题目呢？还希望楼主启发下。
我自己看这个时光机回去make arbitrage就是想到: 
1. 我都知道未来的公司股票价值了，我做多低估的，做空高估的，只要我的影响不影响时间线不就行了。。。
2. 正经点的比如说，并购清算，未来我知道是overvalued还是undervalued就能make arbitrage



comment 2: 

这道题是考black scholes的，就是你假设其他人都在用BS去value options



comment 3: 

那楼主是回答了什么方面呢？volatility, risk-free rate之类的BS构成assumptions?



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=472774&highlight=citadel



## 4)2018-10 **citadel quant researcher的跪经**



之前HR联系我做一个45分钟的面试，里面会涉及**brain tester, 数学问题**，还要我下个coderpad, 相当于在线白板。 **面试官是一个数学系和CS系的master。**

LZ代码功底不太行，还特地买了个leetcode preimum去[刷题](http://www.1point3acres.com/bbs/forum-84-1.html)，结果**面试的时候关于code的题目就是问你Python的concat和group by， merge的作用**，连半个字都没码.

之后**go through my resume, 问project问的非常详细**，而且**每个model都会让我用math的方式去给他解读**，go deep到问得烦了。 

最后给我出了道绿皮书上的原题， **50根面条首位相连，****求组成圆的expect value**



之后时间到了他就挂了，过了一周收到了拒信。
看了地里那么多的面经发现大家面的都不太一样，所以这个**真的要看每个面试官**，最好要搜仔细点他们的[linkedin](http://redirect.viglink.com/?key=a1aa544c3b328def412653f9fc432107&u=http%3A%2F%2Flinkedin.com)然后再准备面试



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=476269&highlight=citadel



## 5)2019-04 Citadel Onsite Associate Security

network security major@DePaul University， 学校网站上看到的工作，申请的职位是 associate security engineer （Chicago）



店面2轮： 一轮是校园recruiter问下背景，简单的behavior； 一轮技术，hiring manager打来问简历
电话完当天晚点就给了on-site



**on-site是11点到下午2点左右（周四），一共5轮+午餐**
1：hiring manager，中年白人，问技术题，**问了个wireshark抓的包，画了个网络拓扑问如何加强安全性**，其他忘了

2：Windows方向，黑人小哥，问了**Cross-site Scripting (XSS) [att](http://redirect.viglink.com/?key=a1aa544c3b328def412653f9fc432107&u=https%3A%2F%2Fwww.att.com%2Fshop%2Fwireless%2Fdevices%2Fcellphones.html)ack， SQL injection， Windows 32位和64位安全性的区别**等等
3：Linux方向，国人大叔，**问python**（答的巨烂，不太会），**再问NIC-bonding 时服务器状态**

午餐一个人吃的，食堂虽好，但是没有什么胃口。一个人站在楼上看着lake Michigan告诉自己不管这次成不成都得继续加油。。

4：network方向，中年白人，**问firewall和router设置ACL的区别，STP，很多behavior**。人特别好，很诚恳的跟我聊了很多team的现状，问我可以不可以面对这些压力。

5：据说是**CEO，视频会议，他人在NY。 问BGP安全，**其他压力太大忘了



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=191001&highlight=citadel





## 6)2017-10 Citadel 二面 Quantitative Researchers



上次通过第一轮电面以后，现在是第二轮，依然是个中国同学，不过不确定是不是还是校友。

**先问概率题，两个桶分别放了n个球，每次等概率随机从其中一个桶中取出一个球，问当有一个桶的球取光以后另一个桶还剩的球数的期望，n>>1。**

这个题目**用二项式分布的中心极限定理来做**。然后让我**用c++**写了个程序计算两个数列的相关系数，很简单。但愿能水过。



Comment1: 

请问能稍微具体讲讲 X 和 k 的定义吗，以及这里成功和失败的定义？
“X:（k = n次失败时的成功次数）”



comment2:

[Hypnus 发表于 2018-1-17 05:42](https://www.1point3acres.com/bbs/forum.php?mod=redirect&goto=findpost&pid=3432106&ptid=300210)
请问能稍微具体讲讲 X 和 k 的定义吗，以及这里成功和失败的定义？
“X:（k = n次失败时的成功次数）”
假设题目两桶各n个球，一桶黑的，一桶白的。拿到黑的是失败，拿到白的是成功。
不妨假设是先把黑球拿完了，也就是总计失败了n次
如果两桶球都是无限个
因为每次是等概率选桶，所以“第1次失败时的成功数”是一个几何分布，对应的随机变量设为X1, p=1/2
P(X1=k) = (1/2)^(k+1), k=0,1,2,...
同理，“第(m-1)次失败和第m次失败之间的成功数”也是一个iid 的几何分布 Xm
所以，累计失败n次时的成功数 就是n个iid的几何分布的和。
对应的随机变量记作X， 则X=X1+...+Xn
由于CLT,用正态逼近X。后面的我原来8楼的回复都讲了。



comment3: 

这个直接Geometric Distribution不可以么？n+k次trial，n次成功，因为是对称的，只需要求出n+k的期望就行?



Comment4:

我也讨论下概率题，我觉得不是1
我开始觉得这题是filp first ace 期望的变体，但是仔细想下其实不是，因为取空一个就停了。可能这是一个陷阱？

那位说几何分布的朋友，差不多是你的意思，n个iid几何分布加起来，然后利用n很大，用中心极限定理，知道
X:（k = n次失败时的成功次数），k=0,1,2,...可以被正态分布N(n,sqrt(2n))逼近

我们要算E(X|X<n)，逼近后就是正态分布半边的期望。积分算出来期望是2*根号(n/pi)。

模拟了一下是差不多的。

source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=300210&highlight=citadel



## 7)2019-01 Onsite Citadel 已跪

第一轮店面， 简单介绍寒暄之后，**问CPP 是否很熟练**，回答这几年都在用Python，但是CPP 还是可以很快recover, 感觉已经有点凉。 然后没有问任何数学问题，直接CoderPad 做题， 

第一个是**duplicate permutation 问题 **，地里看到过，可以没细想，表示可以**用 resursive,** 但没做好，这是一个leetcode 原题。

第二个是一个**linear regression**， 其实是**minimax problem,** 说下思路对方说OK，good but I have another way. 然后寒暄，结束。约好45分钟，用时30分种



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=495658&highlight=citadel



**Duplicate Permucation ? Leetcode 47: https://leetcode.com/problems/permutations-ii/**



## 8)2019-03 Citadel 电面

1. 什么是polymorphism? 有什么用？C++/JAVA是怎么实现的?

2. 什么是merge sort？实现merge sort



Source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=502599&highlight=citadel



## 9)2019-03 Citadel Onsite面经

上周一去面了Citadel的昂赛，今早收到hr电话说挂了。这家地里的面经比较少，特来贡献一波。LZ之前把简历放在一个网站上，然后网站把LZ match到了Citadel的new grad sde岗，填了网申之后没多久收到了他家的电面邀请。

电面：

国人小姐姐，明显放水了，非常感激。问了点bq和简历，还有C++的特性，smart pointer这种，还有多线程的pros and cons，都是由简历里的东西引申出去问的。然后写代码，reverse a string。。对就是单纯写一个翻转字符串的函数，楼主用双指针的方法做的，写的python，写完当场写几个test case跑跑。然后小姐姐问有没有内置的方法可以做，LZ答[::-1]。再问能不能in-place，LZ答python里面不行，但是用C++传引用进来是可以的。最后问问小姐姐问题，收工。

**昂赛：

出来混的迟早要还，一轮45min，一共四轮跪了三轮

**第一轮：**国人大哥，简单问了下简历就出了个**算24点的题要用代码实现，输入是一堆数字**，可以用的运算符包括加、减、乘、除和括号。完全不会，嘴上笑嘻嘻心里mmp大概说的就是LZ了。。LZ一开始说用递归来做，大哥说没那么复杂。然后LZ一直都想把这个题往calculator上面套，大概是因为题刷多了思维僵硬，大哥略无语。大哥一直在给LZ提示，可惜LZ朽木不可雕也，不太领会大哥的意思，就这么时间到了。事后LZ上网查了下发现相关的程序还蛮多的。

**第二轮**：美利坚国大叔，穿着打扮十分随性，后来证实大叔确实刚从湾区跳过去不久。这一轮比较简单，同样是先根据简历问问题，然后让LZ大致**写了C++的CRTP（LZ简历上有这个）**。然后是**一个设计题，写一个存储、计算多项式的类，指明用C++**，LZ很快就写好了，然后**follow up是实现求导**。这一轮比较顺利，面完还有大概一刻钟，和大叔聊聊天，还蛮开心的。

中饭在他们楼里吃，味道还不错。

**第三轮：**日本国小哥，穿着打扮都很像日剧男主。照例先问简历，然后让**用C++写一个拷贝构造函数的signature。**LZ有段时间没用C++了，传进来的**引用没加const，被小哥问会有什么问题**，LZ没答到点上。

**然后一道算法题，**蠡口妖灵妖，**(Leetcode 109:** https://leetcode.com/problems/convert-sorted-list-to-binary-search-tree/) bug-free写完。

最后一个题是个**数学题，给一个字符串，问这个字符串在组成字母的全排列里面排第几个，比如给出字符串cdefab，问其在abcdef的全排列里面的位置（按照字典顺序排列**）。这题很久以前LZ做过，但是全忘了，于是只好现场硬着头皮慢慢推，推出来了之后要写程序实现，最后算是勉强写完了吧。



**第四轮：**英吉利国大叔，讲话一口正宗的英音，很好听。自我介绍是某个大组的头头，然后就和LZ讨论**C++的一个design p[att](http://redirect.viglink.com/?key=a1aa544c3b328def412653f9fc432107&u=https%3A%2F%2Fwww.att.com%2Fshop%2Fwireless%2Fdevices%2Fcellphones.html)ern的优劣，还有牵涉到python和C++底层的一些东西**。LZ全程懵逼，基本都是大叔在滔滔不绝。



总的来说他家的面试没啥套路可循，感觉比较喜欢从简历上的东西着手深入考察，也可能是由于LZ之前在Fintech公司做实习的关系。此外，我觉得面他家C++一定要熟，还需要比较好的数理基础。他家昂赛的待遇相当好，头等舱来回，在飞机上一路小酒吃吃，俯视资本主义的大海高山沙漠平原，倒也蛮惬意的。住的酒店设施很新，装修也很有格调。差旅报销直接是一张200刀的礼品卡。



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=351163&highlight=citadel



## 10) 2019- SDE Summer Intern

第一轮是oa 一小时3道题



第二轮是on campus  45min 15min简历+ 30min coding

题目是Best Time To Buy and Sell Stock



第三轮是onsite 一共四轮 每轮45min
recruiter的意思是四轮里面三轮过就行了
但我其实有两轮都答得不是很好 也不知道为什么过了。。



第一轮：algorithm
**Best Time To Buy And Sell Stock I and II**



第二轮： theory
一个人很好的女面试官， 在**citadel**干了16年
先问了preferred language 我说c++
问了**inheritance， 不同access mode 有什么区别**， **the name of hashtable in c++， overload operator，mutex, 问了how two processes in linux communicate with each other** 不会还教我
**software developement cycle， version control system，** 大概20分钟就问完了， 然后开始尬聊



最后还有时间又问了**python和c++区别，** 给一个**csv file 里面有一些info 怎么generate html display** 这些信息



然后是吃饭 和recruiter 尬聊



第三轮：algorithm
先问了简历， what team at Citadel interests you， 我说了**c++和concurrency， 然后让我讲讲os 课上写的operating system， 怎么implement mutex， blocking lock**
然后 问了 **symmetric tree** 
写出来后又问了what if a node can point to a previous node 蒙了好久 在interviewer的明示下说了一下思路 然后时间就差不多了



第四轮： 最迷的一轮 一个**quant developer 面的**
问题是**best of n games 每轮都有两个outcome： win 和lose， 每轮都bet，想要求每轮的bet size**
面试官用了20分钟解释了algorithm 是从最后一场game 往前推 问怎么define 一个structure 实现这个algorithm



周四onsite， 周三发邮件让填写个人信息 shedule phone call
recruiter说summer intern大概100个， se 50，trading+quant 50， chicage 70个， new york 30个
还是比较想去new york的office



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=487988&highlight=citadel



## 11)2019-05 **Citadel 前端 店面**

3道debug，2道需要写的， **考的是JavaScript的核心知识吧**。

在第一题的时候他给我的感觉很急，我就要求他给我一些时整理思路再回答， 之后他态度就好很多了。 

```
1. 考的是closure。要用。apply（）
let dog = {
    name: 'Shelly',
    bark: function () {
        console.log(this.name);
    }
};
let roffy = dog;
roffy.name = 'roffy';
roffy.bark(); // 问这里为什么叫不出来
2. 考的是 prototypal inheritance, 就是给一段码，有一个object。 一个function在object上，后来又造了object的instance。问为什么function是undefined？ 
3. setTimeout（）是怎么运行的？ 问sleep
4. 给一个str 是 “Word1 Word1 Word3 Word2” 输出array， 按字母排序的，不能有重复的。
注意这里考官不需要最快的解法。 而是用最简洁JavaScript的写法。
5. 写一个fib function， 打印出前8个数组在一个string 用 ‘， ’隔开。
```



source: https://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=522199&highlight=citadel



